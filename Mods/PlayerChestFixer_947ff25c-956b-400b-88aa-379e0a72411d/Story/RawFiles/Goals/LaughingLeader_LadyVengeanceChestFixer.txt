Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
//REGION LEADERLIB_VERSIONING
IF
GameStarted(_,_)
AND
NOT DB_Mods_Registered("LadyVengeanceStorageChestFixer", "LaughingLeader", "1.0.3.0")
AND
GlobalGetFlag("LeaderLib_Initialized", _LeaderIsEnabled)
THEN
LLPLAYERCHEST_Updater_RemoveOldVersions("1.0.3.0");
LLPLAYERCHEST_Updater_SetVersion("1.0.3.0", _LeaderIsEnabled);

PROC
LLPLAYERCHEST_Updater_RemoveOldVersions((STRING)_NewVersion)
AND
DB_Mods_Registered("LadyVengeanceStorageChestFixer", "LaughingLeader", _Version)
AND
_Version != _NewVersion
THEN
NOT DB_Mods_Registered("LadyVengeanceStorageChestFixer", "LaughingLeader", _Version);
LLPLAYERCHEST_Updater_VersionChanged(_Version, _NewVersion);

PROC
LLPLAYERCHEST_Updater_VersionChanged((STRING)_OldVersion, (STRING)_NewVersion)
AND
StringConcatenate("[LadyVengeanceStorageChestFixer:VersionChanged] Updating registered version [", _OldVersion, _Str)
AND
StringConcatenate(_Str, "] to [", _Str2)
AND
StringConcatenate(_Str2, _NewVersion, _Str3)
AND
StringConcatenate(_Str3, "]", _Str4)
THEN
DebugBreak(_Str4);

PROC
LLPLAYERCHEST_Updater_SetVersion((STRING)_Version, 1)
THEN
DB_LeaderLib_ModApi_RegisterMod("LadyVengeanceStorageChestFixer", "LaughingLeader", _Version);

PROC
LLPLAYERCHEST_Updater_SetVersion((STRING)_Version, 0)
THEN
DB_Mods_Registered("LadyVengeanceStorageChestFixer", "LaughingLeader", _Version);

PROC
LLPLAYERCHEST_Updater_SetVersion((STRING)_Version, (INTEGER)_LeaderLibEnabled)
AND
NOT DB_Mods_ActiveGoal("LadyVengeanceStorageChestFixer", "LaughingLeader", _)
THEN
DB_Mods_ActiveGoal("LadyVengeanceStorageChestFixer", "LaughingLeader", "LaughingLeader_LadyVengeanceChestFixer");
DB_LeaderUpdater_RegisteredUUID("LadyVengeanceStorageChestFixer", "LaughingLeader", 947ff25c-956b-400b-88aa-379e0a72411d);
//END_REGION
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "Start"